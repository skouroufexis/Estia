{"ast":null,"code":"var _jsxFileName = \"/Users/stavros/Documents/web/estia/src/Shoppinglist.js\",\n    _s = $RefreshSig$();\n\nimport './transactions.css';\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Link, useParams } from \"react-router-dom\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Shoppinglist() {\n  _s();\n\n  const [all_Shoppinglist, getAll_Shoppinglist] = useState('');\n  let household = localStorage.getItem('household');\n  useEffect(() => {\n    getShoppinglist(); // getNotifications();\n  }, []);\n\n  function getShoppinglist() {\n    let items = [];\n    var xhttp = new XMLHttpRequest();\n    let path = 'http://localhost:8080/api/getShoppinglist?household=' + household;\n    xhttp.open(\"GET\", path);\n    xhttp.send();\n\n    xhttp.onload = function () {\n      if (this.status != 200) {\n        console.log(this.responseText);\n      } else {\n        let response = JSON.parse(this.responseText);\n        console.log(response);\n        getAll_Shoppinglist(response);\n      }\n    };\n  } //gets items from file and creates list of products         \n\n\n  function getItems(all_Transactions) {// if(all_Transactions!='')\n    // {  \n    //   let itemsList=[];\n    //   let l=all_Transactions.length;\n    //   let c;\n    //   for(c=0;c<l;c++){\n    //     let  transactions= all_Transactions[c].split(',')\n    //       let item=transactions[0];\n    //       let transaction=transactions[1];\n    //       let total=transactions[2];\n    //       let minimum=transactions[3];\n    //       let category=transactions[4];\n    //       let subcategory=transactions[5];\n    //       let deleted=transactions[6];\n    //       //convert category & subcategory numerical and literal value respectively (to be used as parameters for the link later on)\n    //       category=getCategory(category);          \n    //       subcategory=getSubcategory(category,subcategory);\n    //       //populate list array to displayed\n    //       if(transaction<0){ //items were subtracted from stock total\n    //         if(deleted=='false')\n    //           {  \n    //             itemsList.push( \n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre negative'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col background-white  '><Link to={'/item-balance/'+category+'/'+subcategory+'/'+item} ><button className=' btn button-secondary'>+ / -</button></Link></div>\n    //           </div>\n    //           );\n    //         }\n    //         else{\n    //           itemsList.push( \n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre negative'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col grey background-white'> <small>item deleted</small> </div>\n    //           </div>\n    //           );\n    //         }\n    //       }\n    //       else{ //items were added to stock total\n    //         if(deleted=='false')\n    //         {\n    //             itemsList.push(\n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre positive'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col background-white  '><Link to={'/item-balance/'+category+'/'+subcategory+'/'+item}><button className=' btn button-secondary'>+ / -</button></Link></div>\n    //           </div>\n    //           );\n    //         }\n    //         else{\n    //           itemsList.push(\n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre positive'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col grey background-white'> <small>item deleted</small> </div>\n    //           </div>\n    //           );\n    //         }\n    //       }\n    //   }\n    //   return(\n    //     <div>\n    //       <div className='row top2 headers sticky-top'>\n    //           <h6 className='col left'>Item</h6>\n    //           <h6 className='col left'>+ / -</h6>\n    //           <h6 className='col left'>Tot</h6>\n    //           <h6 className='col left'>Min</h6>\n    //           <h6 className='col left'></h6>\n    //       </div>\n    //       {itemsList}\n    //     </div>\n    //   );\n    // }else{\n    //   return(\n    //       <div className='row top1'>         \n    //           <p className='col margin-v-auto  left lightgrey'>No recent transactions found</p>              \n    //       </div>\n    //   )\n    // }\n  }\n\n  function getCategory(category) {\n    if (category == 'groceries') {\n      return 0;\n    } else {\n      return 1;\n    }\n  }\n\n  function getSubcategory(category, subcategory) {\n    if (category == '0') {\n      if (subcategory == '1') {\n        return 'Fruit - Vegetables';\n      } else if (subcategory == '2') {\n        return 'Meat - Fish';\n      } else if (subcategory == '3') {\n        return 'Bakery';\n      } else if (subcategory == '4') {\n        return 'Milk - Dairy';\n      } else if (subcategory == '5') {\n        return 'Salumi';\n      } else if (subcategory == '6') {\n        return 'Dry Food';\n      } else if (subcategory == '7') {\n        return 'Beverages';\n      } else if (subcategory == '8') {\n        return 'Salt - Spices';\n      } else if (subcategory == '9') {\n        return 'Glucose';\n      } else if (subcategory == '10') {\n        return 'Coffee - Tea';\n      } else if (subcategory == '11') {\n        return 'Snacks';\n      } else if (subcategory == '12') {\n        return 'Other';\n      }\n    } //household\n    else {\n        if (subcategory == '1') {\n          return 'Cleaning';\n        } else if (subcategory == '2') {\n          return 'Hugiene';\n        } else if (subcategory == '3') {\n          return 'Plastics';\n        } else if (subcategory == '4') {\n          return 'Paper';\n        } else if (subcategory == '5') {\n          return 'Cosmetics';\n        } else if (subcategory == '6') {\n          return 'Other';\n        }\n      }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"container top1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row left\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"col left\",\n        children: \"Shopping List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-container_Shoppinglist\",\n      children: getItems(all_Shoppinglist)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }, this), all_Shoppinglist != '' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col lightgrey\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"left1\",\n          children: \"scroll down to see more items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Shoppinglist, \"XePktTSBkxnj9kmwV61vHedhLKE=\");\n\n_c = Shoppinglist;\nexport default Shoppinglist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shoppinglist\");","map":{"version":3,"sources":["/Users/stavros/Documents/web/estia/src/Shoppinglist.js"],"names":["useState","useEffect","BrowserRouter","Router","Link","useParams","React","Shoppinglist","all_Shoppinglist","getAll_Shoppinglist","household","localStorage","getItem","getShoppinglist","items","xhttp","XMLHttpRequest","path","open","send","onload","status","console","log","responseText","response","JSON","parse","getItems","all_Transactions","getCategory","category","getSubcategory","subcategory"],"mappings":"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","sourcesContent":["\nimport './transactions.css';\nimport  { useState,useEffect } from 'react';\nimport {BrowserRouter as Router,Link,useParams} from \"react-router-dom\";\nimport React from \"react\";\n\nfunction Shoppinglist() {\n  const [all_Shoppinglist, getAll_Shoppinglist] = useState('');\n  let household=localStorage.getItem('household');\n  \n  useEffect(()=>{\n    getShoppinglist();\n    // getNotifications();\n        \n  },[]);\n\n  \n\n  function getShoppinglist(){\n    let items=[];\n    var xhttp = new XMLHttpRequest();\n    \n    let path='http://localhost:8080/api/getShoppinglist?household='+household;\n    xhttp.open(\"GET\",path );\n    xhttp.send();\n    xhttp.onload = function(){\n      if(this.status!=200){\n        console.log(this.responseText);\n      }\n      else{\n        let response=JSON.parse(this.responseText);\n        console.log(response);\n        getAll_Shoppinglist(response);        \n      }\n    }\n  }\n\n  //gets items from file and creates list of products         \n  function getItems(all_Transactions){\n    // if(all_Transactions!='')\n    // {  \n    //   let itemsList=[];\n      \n    //   let l=all_Transactions.length;\n      \n    //   let c;\n\n    //   for(c=0;c<l;c++){\n      \n      \n    //     let  transactions= all_Transactions[c].split(',')\n    //       let item=transactions[0];\n    //       let transaction=transactions[1];\n    //       let total=transactions[2];\n    //       let minimum=transactions[3];\n    //       let category=transactions[4];\n    //       let subcategory=transactions[5];\n    //       let deleted=transactions[6];\n          \n    //       //convert category & subcategory numerical and literal value respectively (to be used as parameters for the link later on)\n    //       category=getCategory(category);          \n    //       subcategory=getSubcategory(category,subcategory);\n        \n\n    //       //populate list array to displayed\n\n    //       if(transaction<0){ //items were subtracted from stock total\n    //         if(deleted=='false')\n    //           {  \n    //             itemsList.push( \n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre negative'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col background-white  '><Link to={'/item-balance/'+category+'/'+subcategory+'/'+item} ><button className=' btn button-secondary'>+ / -</button></Link></div>\n    //           </div>\n    //           );\n    //         }\n    //         else{\n\n    //           itemsList.push( \n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre negative'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col grey background-white'> <small>item deleted</small> </div>\n    //           </div>\n    //           );\n    //         }\n    //       }\n    //       else{ //items were added to stock total\n    //         if(deleted=='false')\n    //         {\n    //             itemsList.push(\n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre positive'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col background-white  '><Link to={'/item-balance/'+category+'/'+subcategory+'/'+item}><button className=' btn button-secondary'>+ / -</button></Link></div>\n    //           </div>\n    //           );\n    //         }\n    //         else{\n    //           itemsList.push(\n    //             <div className='row top1 record' key={c}>         \n    //               <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre positive'><small>{transaction}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n    //               <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n    //               <div className='col grey background-white'> <small>item deleted</small> </div>\n    //           </div>\n    //           );\n    //         }\n    //       }\n          \n    //   }\n      \n\n    //   return(\n    //     <div>\n    //       <div className='row top2 headers sticky-top'>\n    //           <h6 className='col left'>Item</h6>\n    //           <h6 className='col left'>+ / -</h6>\n    //           <h6 className='col left'>Tot</h6>\n    //           <h6 className='col left'>Min</h6>\n    //           <h6 className='col left'></h6>\n    //       </div>\n    //       {itemsList}\n    //     </div>\n    //   );\n    // }else{\n    //   return(\n    //       <div className='row top1'>         \n    //           <p className='col margin-v-auto  left lightgrey'>No recent transactions found</p>              \n    //       </div>\n    //   )\n    // }\n    \n  }\n\n\n\n  function getCategory(category){\n    if(category=='groceries'){\n        return 0;\n    }\n    else{\n        return 1;\n    }\n  }\n\n\n  function getSubcategory(category,subcategory){                \n    if(category=='0'){\n    if(subcategory=='1'){\n        return 'Fruit - Vegetables';\n    }\n    else if (subcategory=='2'){\n        return 'Meat - Fish';\n    }\n    else if (subcategory=='3'){\n        return 'Bakery';\n    }\n    else if (subcategory=='4'){\n        return 'Milk - Dairy';\n    }\n    else if (subcategory=='5'){\n        return 'Salumi';\n    }\n    else if (subcategory=='6'){\n        return 'Dry Food';\n    }\n    else if (subcategory=='7'){\n        return 'Beverages';\n    }\n    else if (subcategory=='8'){\n        return 'Salt - Spices';\n    }\n    else if (subcategory=='9'){\n        return 'Glucose';\n    } \n    else if (subcategory=='10'){\n        return 'Coffee - Tea';\n    }\n    else if (subcategory=='11'){\n        return 'Snacks';\n    }\n    else if (subcategory=='12'){\n        return 'Other';\n    }\n\n }\n\n//household\nelse{\n  if(subcategory=='1'){\n    return 'Cleaning';\n  }\n  else if (subcategory=='2'){\n    return 'Hugiene';\n  }\n  else if (subcategory=='3'){\n    return 'Plastics';\n  }\n  else if (subcategory=='4'){\n    return 'Paper';\n  }\n  else if (subcategory=='5'){\n    return 'Cosmetics';\n  }\n  else if (subcategory=='6'){\n    return 'Other';\n  }\n  \n}\n\n}\n\n  return (\n    \n      \n      <main className='container top1'>\n          <div className='row left'>\n              <h5 className='col left'>Shopping List</h5>\n          </div>         \n          <div id='main-container_Shoppinglist'>\n            {getItems(all_Shoppinglist)}            \n          </div>\n\n          { all_Shoppinglist!='' &&\n            <div className='row'>\n              <div className='col lightgrey'><small className='left1'>scroll down to see more items</small></div>\n            </div>\n          }\n      </main>    \n  );\n}\n\nexport default Shoppinglist;\n"]},"metadata":{},"sourceType":"module"}