{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/stavros/Documents/web/estia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/stavros/Documents/web/estia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./favourites.css';import{useState,useEffect}from'react';import React from\"react\";import{BrowserRouter as Router,Link,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Favourites(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),all_Favourites=_useState2[0],getAll_Favourites=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedItem=_useState4[0],selectItem=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),selectedCategory=_useState6[0],selectCategory=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),selectedSubcategory=_useState8[0],selectSubcategory=_useState8[1];var household=localStorage.getItem('household');useEffect(function(){getFavourites();},[]);//read items from file\nfunction getFavourites(){var items=[];var xhttp=new XMLHttpRequest();var path='http://localhost:8080/api/getFavourites?household='+household;xhttp.open(\"GET\",path);xhttp.send();xhttp.onload=function(){if(this.status!=200){console.log(this.responseText);}else{var response=JSON.parse(this.responseText);console.log(response);getAll_Favourites(response);}};}function getCategory(category){if(category=='groceries'){return 0;}else{return 1;}}function getSubcategory(category,subcategory){if(category=='0'){if(subcategory=='1'){return'Fruit - Vegetables';}else if(subcategory=='2'){return'Meat - Fish';}else if(subcategory=='3'){return'Bakery';}else if(subcategory=='4'){return'Milk - Dairy';}else if(subcategory=='5'){return'Salumi';}else if(subcategory=='6'){return'Dry Food';}else if(subcategory=='7'){return'Beverages';}else if(subcategory=='8'){return'Salt - Spices';}else if(subcategory=='9'){return'Glucose';}else if(subcategory=='10'){return'Coffee - Tea';}else if(subcategory=='11'){return'Snacks';}else if(subcategory=='12'){return'Other';}}//household\nelse{if(subcategory=='1'){return'Cleaning';}else if(subcategory=='2'){return'Hugiene';}else if(subcategory=='3'){return'Plastics';}else if(subcategory=='4'){return'Paper';}else if(subcategory=='5'){return'Cosmetics';}else if(subcategory=='6'){return'Other';}}}//gets items from file and creates list of favourites         \nfunction getItems(all_Favourites){if(all_Favourites!=''){var itemsList=[];var l=all_Favourites.length;var c;var _loop=function _loop(){var favourites=all_Favourites[c].split(',');var item=favourites[0];var category=getCategory(favourites[1]);var subcategory=getSubcategory(category,favourites[2]);//populate list array to displayed\nitemsList.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row top1 record maincontent\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"col-8  vertical-centre\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"left2\",children:item})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col background-white \",children:[/*#__PURE__*/_jsx(Link,{to:'/item-balance/'+category+'/'+subcategory+'/'+item,children:/*#__PURE__*/_jsx(\"button\",{className:\"col centre btn button-secondary\",children:\"+/-\"})}),/*#__PURE__*/_jsx(Link,{to:'/item-settings/'+category+'/'+subcategory+'/'+item,children:/*#__PURE__*/_jsx(\"button\",{className:\"col left2 centre btn button-secondary\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-cog\"})})}),/*#__PURE__*/_jsx(Link,{children:/*#__PURE__*/_jsx(\"button\",{className:\"col left2 centre btn button-secondary\",onClick:function onClick(){openConfirm(item,category,subcategory);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash-alt\"})})})]})]},c));};for(c=0;c<l;c++){_loop();}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row top2 headers\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"col left maincontent\",children:\"Item\"})}),itemsList]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"row top1\",children:/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto  left lightgrey\",children:\"No favourites found\"})});}}function openConfirm(item,category,subcategory){selectItem(item);selectCategory(category);selectSubcategory(subcategory);var modal=document.getElementsByClassName('modals2');modal=modal[0];modal.style.display='block';setTimeout(function(){modal.style.transform='translateY(0)';modal.style.opacity='1';var maincontent=document.getElementsByClassName('maincontent');var m;var _iterator=_createForOfIteratorHelper(maincontent),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){m=_step.value;m.style.opacity='0.2';}}catch(err){_iterator.e(err);}finally{_iterator.f();}},100);}function closeModal(){var maincontent=document.getElementsByClassName('maincontent');var modal=document.getElementsByClassName('modals2');modal=modal[0];modal.style.transform='translateY(-10px)';modal.style.opacity='0';var m;var _iterator2=_createForOfIteratorHelper(maincontent),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){m=_step2.value;m.style.opacity='1';}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}setTimeout(function(){modal.style.display='none';},100);}function confirmDelete(response){closeModal();// //handle response\nvar item=selectedItem;var category=selectedCategory;var subcategory=selectedSubcategory;if(response==true){// send request to delete item\nvar xhttp=new XMLHttpRequest();xhttp.open(\"POST\",\"http://localhost:8080/api/deleteItem\");xhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");var data=\"household=\".concat(household,\"&category=\").concat(category,\"&subcategory=\").concat(subcategory,\"&item=\").concat(item);xhttp.send(data);xhttp.onload=function(){if(this.status==200){var origin='stock';var message='Item successfully deleted';var path='http://localhost:3000/error/'+origin+'/'+message;window.location.replace(path);}};}}return/*#__PURE__*/_jsxs(\"main\",{className:\"container top1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modals2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row top2 modals-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 centre top2\",children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to delete this item?\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 centre\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"col-2 btn button-secondary\",onClick:function onClick(){confirmDelete(true);},children:\"Yes\"}),\" \",/*#__PURE__*/_jsx(\"button\",{className:\"col-2  btn button-secondary2\",onClick:function onClick(){confirmDelete(false);},children:\"Cancel\"}),\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row left maincontent\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"col\",children:\"Favourite Items\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"main-container_Favourites\",className:\"maincontent\",children:getItems(all_Favourites)}),all_Favourites!=''&&/*#__PURE__*/_jsx(\"div\",{className:\"row maincontent\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col lightgrey\",children:/*#__PURE__*/_jsx(\"small\",{className:\"left1\",children:\"scroll down to see more items\"})})})]});}export default Favourites;","map":{"version":3,"sources":["/Users/stavros/Documents/web/estia/src/Favourites.js"],"names":["useState","useEffect","React","BrowserRouter","Router","Link","useParams","Favourites","all_Favourites","getAll_Favourites","selectedItem","selectItem","selectedCategory","selectCategory","selectedSubcategory","selectSubcategory","household","localStorage","getItem","getFavourites","items","xhttp","XMLHttpRequest","path","open","send","onload","status","console","log","responseText","response","JSON","parse","getCategory","category","getSubcategory","subcategory","getItems","itemsList","l","length","c","favourites","split","item","push","openConfirm","modal","document","getElementsByClassName","style","display","setTimeout","transform","opacity","maincontent","m","closeModal","confirmDelete","setRequestHeader","data","origin","message","window","location","replace"],"mappings":"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","sourcesContent":["\nimport './favourites.css';\nimport  { useState,useEffect } from 'react';\n\nimport React from \"react\";\n\nimport {BrowserRouter as Router,Link,useParams} from \"react-router-dom\";\n\n\nfunction Favourites() {\n\n  const [all_Favourites, getAll_Favourites] = useState('');\n  const [selectedItem,selectItem]=useState('');\n  const [selectedCategory,selectCategory]=useState('');\n  const [selectedSubcategory,selectSubcategory]=useState('');\n  \n  let household=localStorage.getItem('household');\n  useEffect(()=>{\n    getFavourites();      \n  },[]);\n\n\n  //read items from file\n  function getFavourites(){\n    let items=[];\n    var xhttp = new XMLHttpRequest();\n    \n    \n    let path='http://localhost:8080/api/getFavourites?household='+household;\n    xhttp.open(\"GET\",path );\n    xhttp.send();\n    xhttp.onload = function(){\n      if(this.status!=200){\n        console.log(this.responseText);\n      }\n      else{\n        let response=JSON.parse(this.responseText);\n        console.log(response);\n        getAll_Favourites(response);        \n      }\n    }\n  }\n\n  function getCategory(category){\n    if(category=='groceries'){\n        return 0;\n    }\n    else{\n        return 1;\n    }\n  }\n\n  function getSubcategory(category,subcategory){                \n        if(category=='0'){\n        if(subcategory=='1'){\n            return 'Fruit - Vegetables';\n        }\n        else if (subcategory=='2'){\n            return 'Meat - Fish';\n        }\n        else if (subcategory=='3'){\n            return 'Bakery';\n        }\n        else if (subcategory=='4'){\n            return 'Milk - Dairy';\n        }\n        else if (subcategory=='5'){\n            return 'Salumi';\n        }\n        else if (subcategory=='6'){\n            return 'Dry Food';\n        }\n        else if (subcategory=='7'){\n            return 'Beverages';\n        }\n        else if (subcategory=='8'){\n            return 'Salt - Spices';\n        }\n        else if (subcategory=='9'){\n            return 'Glucose';\n        } \n        else if (subcategory=='10'){\n            return 'Coffee - Tea';\n        }\n        else if (subcategory=='11'){\n            return 'Snacks';\n        }\n        else if (subcategory=='12'){\n            return 'Other';\n        }\n  \n     }\n  \n    //household\n    else{\n      if(subcategory=='1'){\n        return 'Cleaning';\n      }\n      else if (subcategory=='2'){\n        return 'Hugiene';\n      }\n      else if (subcategory=='3'){\n        return 'Plastics';\n      }\n      else if (subcategory=='4'){\n        return 'Paper';\n      }\n      else if (subcategory=='5'){\n        return 'Cosmetics';\n      }\n      else if (subcategory=='6'){\n        return 'Other';\n      }\n      \n    }\n    \n  }\n\n  //gets items from file and creates list of favourites         \n  function getItems(all_Favourites){\n    if(all_Favourites!='')\n    {  \n      let itemsList=[];\n      let l=all_Favourites.length;      \n      let c;\n      for(c=0;c<l;c++){            \n        let  favourites= all_Favourites[c].split(',')\n          let item=favourites[0];\n          let category=getCategory(favourites[1]);          \n          let subcategory = getSubcategory(category, favourites[2]);   \n             \n          //populate list array to displayed\n          itemsList.push( \n            <div className='row top1 record maincontent' key={c}>         \n              <p className='col-8  vertical-centre'> <span className='left2'>{item}</span></p>       \n\n                  \n\n              <div className='col background-white '>\n                  <Link  to={'/item-balance/'+category+'/'+subcategory+'/'+item} ><button className='col centre btn button-secondary'>+/-</button></Link>\n                  <Link  to={'/item-settings/'+category+'/'+subcategory+'/'+item}><button className='col left2 centre btn button-secondary'><i class=\"fas fa-cog\"></i></button></Link>\n                  <Link ><button className='col left2 centre btn button-secondary' onClick={()=>{openConfirm(item,category,subcategory);}} ><i class=\"fas fa-trash-alt\"></i></button></Link>\n              </div>\n          </div>\n          );          \n      }\n      \n\n      return(\n        <div>\n          <div className='row top2 headers'>\n              <h5 className='col left maincontent'>Item</h5>              \n              \n          </div >  \n          {itemsList}\n        </div>\n      );\n    }else{\n      return(\n          <div className='row top1'>         \n              <p className='col margin-v-auto  left lightgrey'>No favourites found</p>              \n          </div>\n      )\n    }    \n}\n\nfunction openConfirm(item,category,subcategory){\n    selectItem(item);\n    selectCategory(category);\n    selectSubcategory(subcategory);\n    let modal=document.getElementsByClassName('modals2');\n    modal=modal[0];\n\n    modal.style.display='block';\n    setTimeout(() => {\n      modal.style.transform='translateY(0)';\n      modal.style.opacity='1';\n\n      let maincontent=document.getElementsByClassName('maincontent');\n      let m;\n      for(m of maincontent){\n        m.style.opacity='0.2';          \n      }        \n    }, 100);\n  }\n\n  function closeModal(){\n    let maincontent=document.getElementsByClassName('maincontent');\n    let modal=document.getElementsByClassName('modals2');\n    modal=modal[0];\n\n    modal.style.transform='translateY(-10px)';\n    modal.style.opacity='0';\n\n    let m;\n      for(m of maincontent){\n        m.style.opacity='1';          \n      }        \n\n    setTimeout(() => {       \n      modal.style.display='none';        \n    }, 100);\n  }\n\n  function confirmDelete(response){\n      \n    closeModal();\n    // //handle response\n    let item=selectedItem;\n    let category=selectedCategory;\n    let subcategory=selectedSubcategory;\n    if(response==true){        \n        \n      // send request to delete item\n      var xhttp = new XMLHttpRequest();\n        \n      xhttp.open(\"POST\", \"http://localhost:8080/api/deleteItem\");\n      xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n      let data=`household=${household}&category=${category}&subcategory=${subcategory}&item=${item}`;\n      \n      xhttp.send(data);\n      xhttp.onload = function() {\n        if(this.status==200){          \n          let origin='stock';\n          let message='Item successfully deleted';\n          let path='http://localhost:3000/error/'+origin+'/'+message;\n          window.location.replace(path);\n        }\n        \n      };\n    }\n    \n  }\n\n\n      \n      \n\n  return (\n    \n      \n      <main className='container top1'>\n\n        <div className='modals2'>\n            <div className='row top2 modals-content'>\n                <div className='col-12 centre top2'><b><p>Are you sure you want to delete this item?</p></b></div>\n                <div className='col-12 centre'> <button className='col-2 btn button-secondary' onClick={()=>{confirmDelete(true)}}>Yes</button> <button className='col-2  btn button-secondary2' onClick={()=>{confirmDelete(false)}}>Cancel</button> </div>        \n            </div>\n        </div>  \n\n\n          <div className='row left maincontent'>\n              <h5 className='col'>Favourite Items</h5>\n          </div>\n\n          \n          <div id='main-container_Favourites' className='maincontent'>\n            {getItems(all_Favourites)}            \n          </div>\n\n          { all_Favourites!='' &&\n            <div className='row maincontent'>\n              <div className='col lightgrey'><small className='left1'>scroll down to see more items</small></div>\n            </div>\n          }\n      </main>    \n  );\n}\n\nexport default Favourites;\n"]},"metadata":{},"sourceType":"module"}