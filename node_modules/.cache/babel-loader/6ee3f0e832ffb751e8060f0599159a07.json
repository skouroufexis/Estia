{"ast":null,"code":"import _slicedToArray from\"/Users/stavros/Documents/web/estia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./transactions.css';import{useState,useEffect}from'react';import{BrowserRouter as Router,Link,useParams}from\"react-router-dom\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Transactions(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),all_Transactions=_useState2[0],getAll_Transactions=_useState2[1];useEffect(function(){getTransactions();getNotifications();},[]);function getNotifications(){var household=localStorage.getItem('household');var path='http://localhost:8080/api/getNotifications?household='+household;var xhttp=new XMLHttpRequest();xhttp.open(\"GET\",path);xhttp.send();xhttp.onload=function(){if(this.status==200){console.log('retrieved notifications');}};}function getTransactions(){var items=[];var xhttp=new XMLHttpRequest();var household=localStorage.getItem('household');var path='http://localhost:8080/api/getTransactions?household='+household;xhttp.open(\"GET\",path);xhttp.send();xhttp.onload=function(){if(this.status!=200){console.log(this.responseText);}else{var response=JSON.parse(this.responseText);console.log(response);getAll_Transactions(response);}};}//gets items from file and creates list of products         \nfunction getItems(all_Transactions){if(all_Transactions!=''){var itemsList=[];var l=all_Transactions.length;var c;for(c=0;c<l;c++){var transactions=all_Transactions[c].split(',');var item=transactions[0];var transaction=transactions[1];var total=transactions[2];var minimum=transactions[3];var category=transactions[4];var subcategory=transactions[5];var deleted=transactions[6];//convert category & subcategory numerical and literal value respectively (to be used as parameters for the link later on)\ncategory=getCategory(category);subcategory=getSubcategory(category,subcategory);//populate list array to displayed\nif(transaction<0){//items were subtracted from stock total\nif(deleted=='false'){itemsList.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row top1 record\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"col left1 margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:item})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre negative\",children:/*#__PURE__*/_jsx(\"small\",{children:transaction})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:total})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:minimum})}),/*#__PURE__*/_jsx(\"div\",{className:\"col background-white  \",children:/*#__PURE__*/_jsx(Link,{to:'/item-balance/'+category+'/'+subcategory+'/'+item,children:/*#__PURE__*/_jsx(\"button\",{className:\" btn button-secondary\",children:\"+ / -\"})})})]},c));}else{itemsList.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row top1 record\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"col left1 margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:item})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre negative\",children:/*#__PURE__*/_jsx(\"small\",{children:transaction})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:total})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:minimum})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col grey background-white\",children:[\" \",/*#__PURE__*/_jsx(\"small\",{children:\"item deleted\"}),\" \"]})]},c));}}else{//items were added to stock total\nif(deleted=='false'){itemsList.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row top1 record\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"col left1 margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:item})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre positive\",children:/*#__PURE__*/_jsx(\"small\",{children:transaction})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:total})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:minimum})}),/*#__PURE__*/_jsx(\"div\",{className:\"col background-white  \",children:/*#__PURE__*/_jsx(Link,{to:'/item-balance/'+category+'/'+subcategory+'/'+item,children:/*#__PURE__*/_jsx(\"button\",{className:\" btn button-secondary\",children:\"+ / -\"})})})]},c));}else{itemsList.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row top1 record\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"col left1 margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:item})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre positive\",children:/*#__PURE__*/_jsx(\"small\",{children:transaction})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:total})}),/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto left vertical-centre\",children:/*#__PURE__*/_jsx(\"small\",{children:minimum})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col grey background-white\",children:[\" \",/*#__PURE__*/_jsx(\"small\",{children:\"item deleted\"}),\" \"]})]},c));}}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row top2 headers sticky-top\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"col left\",children:\"Item\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"col left\",children:\"+ / -\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"col left\",children:\"Tot\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"col left\",children:\"Min\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"col left\"})]}),itemsList]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"row top1\",children:/*#__PURE__*/_jsx(\"p\",{className:\"col margin-v-auto  left lightgrey\",children:\"No recent transactions found\"})});}}function getCategory(category){if(category=='groceries'){return 0;}else{return 1;}}function getSubcategory(category,subcategory){if(category=='0'){if(subcategory=='1'){return'Fruit - Vegetables';}else if(subcategory=='2'){return'Meat - Fish';}else if(subcategory=='3'){return'Bakery';}else if(subcategory=='4'){return'Milk - Dairy';}else if(subcategory=='5'){return'Salumi';}else if(subcategory=='6'){return'Dry Food';}else if(subcategory=='7'){return'Beverages';}else if(subcategory=='8'){return'Salt - Spices';}else if(subcategory=='9'){return'Glucose';}else if(subcategory=='10'){return'Coffee - Tea';}else if(subcategory=='11'){return'Snacks';}else if(subcategory=='12'){return'Other';}}//household\nelse{if(subcategory=='1'){return'Cleaning';}else if(subcategory=='2'){return'Hugiene';}else if(subcategory=='3'){return'Plastics';}else if(subcategory=='4'){return'Paper';}else if(subcategory=='5'){return'Cosmetics';}else if(subcategory=='6'){return'Other';}}}return/*#__PURE__*/_jsxs(\"main\",{className:\"container top1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row left\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"col left\",children:\"Recent transactions\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"main-container_Transactions\",children:getItems(all_Transactions)}),all_Transactions!=''&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col lightgrey\",children:/*#__PURE__*/_jsx(\"small\",{className:\"left1\",children:\"scroll down to see more transactions\"})})})]});}export default Transactions;","map":{"version":3,"sources":["/Users/stavros/Documents/web/estia/src/Transactions.js"],"names":["useState","useEffect","BrowserRouter","Router","Link","useParams","React","Transactions","all_Transactions","getAll_Transactions","getTransactions","getNotifications","household","localStorage","getItem","path","xhttp","XMLHttpRequest","open","send","onload","status","console","log","items","responseText","response","JSON","parse","getItems","itemsList","l","length","c","transactions","split","item","transaction","total","minimum","category","subcategory","deleted","getCategory","getSubcategory","push"],"mappings":"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","sourcesContent":["\nimport './transactions.css';\nimport  { useState,useEffect } from 'react';\nimport {BrowserRouter as Router,Link,useParams} from \"react-router-dom\";\nimport React from \"react\";\n\nfunction Transactions() {\n  const [all_Transactions, getAll_Transactions] = useState('');\n  \n  \n  useEffect(()=>{\n    getTransactions();\n    getNotifications();\n        \n  },[]);\n\n  function getNotifications(){    \n      let household=localStorage.getItem('household');\n      let path='http://localhost:8080/api/getNotifications?household='+household;\n      var xhttp = new XMLHttpRequest();    \n      xhttp.open(\"GET\", path);\n      xhttp.send();\n      xhttp.onload = function() {  \n         if(this.status==200){\n            console.log('retrieved notifications');\n         }\n      };   \n  }\n\n  function getTransactions(){\n    let items=[];\n    var xhttp = new XMLHttpRequest();\n    let household=localStorage.getItem('household');\n    let path='http://localhost:8080/api/getTransactions?household='+household;\n    xhttp.open(\"GET\",path );\n    xhttp.send();\n    xhttp.onload = function(){\n      if(this.status!=200){\n        console.log(this.responseText);\n      }\n      else{\n        let response=JSON.parse(this.responseText);\n        console.log(response);\n        getAll_Transactions(response);        \n      }\n    }\n  }\n\n  //gets items from file and creates list of products         \n  function getItems(all_Transactions){\n    if(all_Transactions!='')\n    {  \n      let itemsList=[];\n      \n      let l=all_Transactions.length;\n      \n      let c;\n\n      for(c=0;c<l;c++){\n      \n      \n        let  transactions= all_Transactions[c].split(',')\n          let item=transactions[0];\n          let transaction=transactions[1];\n          let total=transactions[2];\n          let minimum=transactions[3];\n          let category=transactions[4];\n          let subcategory=transactions[5];\n          let deleted=transactions[6];\n          \n          //convert category & subcategory numerical and literal value respectively (to be used as parameters for the link later on)\n          category=getCategory(category);          \n          subcategory=getSubcategory(category,subcategory);\n        \n\n          //populate list array to displayed\n\n          if(transaction<0){ //items were subtracted from stock total\n            if(deleted=='false')\n              {  \n                itemsList.push( \n                <div className='row top1 record' key={c}>         \n                  <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n                  <p className='col margin-v-auto left vertical-centre negative'><small>{transaction}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n                  <div className='col background-white  '><Link to={'/item-balance/'+category+'/'+subcategory+'/'+item} ><button className=' btn button-secondary'>+ / -</button></Link></div>\n              </div>\n              );\n            }\n            else{\n\n              itemsList.push( \n                <div className='row top1 record' key={c}>         \n                  <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n                  <p className='col margin-v-auto left vertical-centre negative'><small>{transaction}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n                  <div className='col grey background-white'> <small>item deleted</small> </div>\n              </div>\n              );\n            }\n          }\n          else{ //items were added to stock total\n            if(deleted=='false')\n            {\n                itemsList.push(\n                <div className='row top1 record' key={c}>         \n                  <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n                  <p className='col margin-v-auto left vertical-centre positive'><small>{transaction}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n                  <div className='col background-white  '><Link to={'/item-balance/'+category+'/'+subcategory+'/'+item}><button className=' btn button-secondary'>+ / -</button></Link></div>\n              </div>\n              );\n            }\n            else{\n              itemsList.push(\n                <div className='row top1 record' key={c}>         \n                  <p className='col left1 margin-v-auto left vertical-centre'><small>{item}</small></p>\n                  <p className='col margin-v-auto left vertical-centre positive'><small>{transaction}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{total}</small></p>\n                  <p className='col margin-v-auto left vertical-centre'><small>{minimum}</small></p>\n                  <div className='col grey background-white'> <small>item deleted</small> </div>\n              </div>\n              );\n            }\n          }\n          \n      }\n      \n\n      return(\n        <div>\n          <div className='row top2 headers sticky-top'>\n              <h6 className='col left'>Item</h6>\n              <h6 className='col left'>+ / -</h6>\n              <h6 className='col left'>Tot</h6>\n              <h6 className='col left'>Min</h6>\n              <h6 className='col left'></h6>\n          </div>\n          {itemsList}\n        </div>\n      );\n    }else{\n      return(\n          <div className='row top1'>         \n              <p className='col margin-v-auto  left lightgrey'>No recent transactions found</p>              \n          </div>\n      )\n    }\n    \n  }\n\n\n\n  function getCategory(category){\n    if(category=='groceries'){\n        return 0;\n    }\n    else{\n        return 1;\n    }\n  }\n\n\n  function getSubcategory(category,subcategory){                \n    if(category=='0'){\n    if(subcategory=='1'){\n        return 'Fruit - Vegetables';\n    }\n    else if (subcategory=='2'){\n        return 'Meat - Fish';\n    }\n    else if (subcategory=='3'){\n        return 'Bakery';\n    }\n    else if (subcategory=='4'){\n        return 'Milk - Dairy';\n    }\n    else if (subcategory=='5'){\n        return 'Salumi';\n    }\n    else if (subcategory=='6'){\n        return 'Dry Food';\n    }\n    else if (subcategory=='7'){\n        return 'Beverages';\n    }\n    else if (subcategory=='8'){\n        return 'Salt - Spices';\n    }\n    else if (subcategory=='9'){\n        return 'Glucose';\n    } \n    else if (subcategory=='10'){\n        return 'Coffee - Tea';\n    }\n    else if (subcategory=='11'){\n        return 'Snacks';\n    }\n    else if (subcategory=='12'){\n        return 'Other';\n    }\n\n }\n\n//household\nelse{\n  if(subcategory=='1'){\n    return 'Cleaning';\n  }\n  else if (subcategory=='2'){\n    return 'Hugiene';\n  }\n  else if (subcategory=='3'){\n    return 'Plastics';\n  }\n  else if (subcategory=='4'){\n    return 'Paper';\n  }\n  else if (subcategory=='5'){\n    return 'Cosmetics';\n  }\n  else if (subcategory=='6'){\n    return 'Other';\n  }\n  \n}\n\n}\n\n  return (\n    \n      \n      <main className='container top1'>\n          <div className='row left'>\n              <h5 className='col left'>Recent transactions</h5>\n          </div>         \n          <div id='main-container_Transactions'>\n            {getItems(all_Transactions)}            \n          </div>\n\n          { all_Transactions!='' &&\n            <div className='row'>\n              <div className='col lightgrey'><small className='left1'>scroll down to see more transactions</small></div>\n            </div>\n          }\n      </main>    \n  );\n}\n\nexport default Transactions;\n"]},"metadata":{},"sourceType":"module"}